From 5a148a613f216f5c1df6ca39ffd7b4868f52512b Mon Sep 17 00:00:00 2001
From: belijzajac <tautvydas749@gmail.com>
Date: Mon, 27 Mar 2023 16:01:21 +0300
Subject: [PATCH] Update linking

---
 bindings/nim/kzg_abi.nim | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/bindings/nim/kzg_abi.nim b/bindings/nim/kzg_abi.nim
index f5363f6..ebd278a 100644
--- a/bindings/nim/kzg_abi.nim
+++ b/bindings/nim/kzg_abi.nim
@@ -17,13 +17,14 @@ const
   srcPath  = kzgPath & "src/"
   bindingsPath = blstPath & "bindings"
 
+{.passL: "../../../../target/release/libblst_from_scratch.a".}
+{.passL: "-lm".}
+
 when not defined(kzgExternalBlst):
   # Use default blst shipped with c-kzg-4844
   {.compile: blstPath & "build/assembly.S".}
   {.compile: blstPath & "src/server.c"}
 
-{.compile: srcPath & "c_kzg_4844.c"}
-
 {.passc: "-I" & bindingsPath &
   " -DFIELD_ELEMENTS_PER_BLOB=" &
   fmt"{FIELD_ELEMENTS_PER_BLOB}".}
-- 
2.40.0

